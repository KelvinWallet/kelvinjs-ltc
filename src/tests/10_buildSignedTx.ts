import { ltcCurrencyUtil as L } from '../index';

(async () => {
  const walletRsp =
    '1aa6030aa30301000000000102ddd91fc9c3721c20c3b4dab1f9082398d4e95134e91ae979c68fe7d37c994eeb0000000017160014a3620dd0a36bb8626e3e634a02355a3da5bdad5bffffffffe0ee9ae216745b7a8967491248996ed7856c91744374f46cfee52e0ca28e976d0100000017160014a3620dd0a36bb8626e3e634a02355a3da5bdad5bffffffff0200350c000000000017a9141c229ac6c4928a7994d07b8552fc03374e35fe2087869502000000000017a91404aa07fdd9b5a2e0339afff708ff9f9dea6999ea87024730440220025e523367b4179bd9226d05bd74793bb11de9280326eeefee22c86d2adcde42022062f024928f330e66b836f02e72b9c846f8d39e194de37926546ba46fcb04d26501210211be1528cff183dfa82723f96443a20e3290a45eb482c217cd7c039b2cb8654602483045022100982d1db1a8537f7b267c158b7384671e014e1cd816d060bb5df69e0165b8404402200c31fda9cafc1372ea59899c4d49751b3c1f0d4ba3d50cce404d16a1cda5231401210211be1528cff183dfa82723f96443a20e3290a45eb482c217cd7c039b2cb8654600000000';

  const result = L.buildSignedTx(
    {
      network: 'testnet',
      accountIndex: 0,
      fromPubkey:
        '0411be1528cff183dfa82723f96443a20e3290a45eb482c217cd7c039b2cb8654676e296aa9603d5463a1104240fa1423f268674caec46d3cc0326fbd1fc8cc8e0',
      toAddr: 'QPAkV3FQmMoeUfQ8DsD7nF9fb56PMWxt2g',
      amount: '800000',
      feeOpt: '100000',
    },
    {
      commandId: 262,
      payload: Buffer.from(
        '50010802229c010a2f0a07808080800800001220eb4e997cd3e78fc679e91ae93451e9d4982308f9b1dab4c3201c72c3c91fd9dd20a0c21e0a310a078080808008000012206d978ea20c2ee5fe6cf4744374916c85d76e9948124967897a5b7416e29aeee0180120989b1e121a0880ea301a141c229ac6c4928a7994d07b8552fc03374e35fe20121a0886ab0a1a1404aa07fdd9b5a2e0339afff708ff9f9dea6999ea',
        'hex'
      ),
    },
    {
      payload: Buffer.from(walletRsp, 'hex'),
    }
  );

  console.log(result);
})();

/*

After KelvinWallet signs the transaction generated from test-prepareCommandSignTx.ts
the result Armadillo response payload is:

1aa6030aa30301000000000102ddd91fc9c3721c20c3b4dab1f9082398d4e95134e91ae979c68fe7d37c994eeb0000000017160014a3620dd0a36bb8626e3e634a02355a3da5bdad5bffffffffe0ee9ae216745b7a8967491248996ed7856c91744374f46cfee52e0ca28e976d0100000017160014a3620dd0a36bb8626e3e634a02355a3da5bdad5bffffffff0200350c000000000017a9141c229ac6c4928a7994d07b8552fc03374e35fe2087869502000000000017a91404aa07fdd9b5a2e0339afff708ff9f9dea6999ea87024730440220025e523367b4179bd9226d05bd74793bb11de9280326eeefee22c86d2adcde42022062f024928f330e66b836f02e72b9c846f8d39e194de37926546ba46fcb04d26501210211be1528cff183dfa82723f96443a20e3290a45eb482c217cd7c039b2cb8654602483045022100982d1db1a8537f7b267c158b7384671e014e1cd816d060bb5df69e0165b8404402200c31fda9cafc1372ea59899c4d49751b3c1f0d4ba3d50cce404d16a1cda5231401210211be1528cff183dfa82723f96443a20e3290a45eb482c217cd7c039b2cb8654600000000

The result (signed transaction to be broadcasted) is:

01000000000102ddd91fc9c3721c20c3b4dab1f9082398d4e95134e91ae979c68fe7d37c994eeb0000000017160014a3620dd0a36bb8626e3e634a02355a3da5bdad5bffffffffe0ee9ae216745b7a8967491248996ed7856c91744374f46cfee52e0ca28e976d0100000017160014a3620dd0a36bb8626e3e634a02355a3da5bdad5bffffffff0200350c000000000017a9141c229ac6c4928a7994d07b8552fc03374e35fe2087869502000000000017a91404aa07fdd9b5a2e0339afff708ff9f9dea6999ea87024730440220025e523367b4179bd9226d05bd74793bb11de9280326eeefee22c86d2adcde42022062f024928f330e66b836f02e72b9c846f8d39e194de37926546ba46fcb04d26501210211be1528cff183dfa82723f96443a20e3290a45eb482c217cd7c039b2cb8654602483045022100982d1db1a8537f7b267c158b7384671e014e1cd816d060bb5df69e0165b8404402200c31fda9cafc1372ea59899c4d49751b3c1f0d4ba3d50cce404d16a1cda5231401210211be1528cff183dfa82723f96443a20e3290a45eb482c217cd7c039b2cb8654600000000

*/
